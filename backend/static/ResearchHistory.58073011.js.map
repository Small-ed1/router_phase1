{"mappings":"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AAa,EAAQ,OAAO,EAC3C,UAAU,gBACX,SAAA,W,GAIH,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,SAAD,CACE,QAAS,IAAM,EAAa,EAAQ,OAAO,EAC3C,UAAU,gBACX,SAAA,Y,G,A,G,AAvCK,EAAA,EAAQ,OAAO,E,GAgD/B,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,QAAD,CAAQ,SAAA;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AA+NR,MAAA,CAAC,A,G,A,EAGP,C","sources":["<anon>","src/ResearchHistory.js"],"sourcesContent":["\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true, configurable: true});\n}\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequire10c2\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"7y2Ds\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", () => $57edc0b93047f8d3$export$2e2bcd8739ae039);\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\n\nvar $acw62 = parcelRequire(\"acw62\");\nconst $57edc0b93047f8d3$var$ResearchHistory = ({ onResumeSession: onResumeSession, onDeleteSession: onDeleteSession })=>{\n    const [sessions, setSessions] = (0, $acw62.useState)([]);\n    const [loading, setLoading] = (0, $acw62.useState)(true);\n    const [error, setError] = (0, $acw62.useState)(null);\n    (0, $acw62.useEffect)(()=>{\n        loadSessions();\n    }, []);\n    const loadSessions = async ()=>{\n        try {\n            setLoading(true);\n            const response = await fetch('/api/research/sessions');\n            if (!response.ok) throw new Error('Failed to load sessions');\n            const data = await response.json();\n            setSessions(data.sessions || []);\n            setError(null);\n        } catch (err) {\n            setError(err.message);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleResume = async (taskId)=>{\n        try {\n            const response = await fetch(`/api/research/${taskId}/resume`, {\n                method: 'POST'\n            });\n            if (!response.ok) throw new Error('Failed to resume session');\n            const data = await response.json();\n            onResumeSession && onResumeSession(taskId);\n            // Reload sessions to update status\n            await loadSessions();\n        } catch (err) {\n            setError(`Failed to resume session: ${err.message}`);\n        }\n    };\n    const handleDelete = async (taskId)=>{\n        if (!confirm(`Are you sure you want to delete research session ${taskId}?`)) return;\n        try {\n            const response = await fetch(`/api/research/${taskId}`, {\n                method: 'DELETE'\n            });\n            if (!response.ok) throw new Error('Failed to delete session');\n            onDeleteSession && onDeleteSession(taskId);\n            // Reload sessions\n            await loadSessions();\n        } catch (err) {\n            setError(`Failed to delete session: ${err.message}`);\n        }\n    };\n    const formatDate = (dateString)=>{\n        return new Date(dateString).toLocaleString();\n    };\n    if (loading) return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        className: \"research-history loading\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"spinner\"\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                children: \"Loading research history...\"\n            })\n        ]\n    });\n    return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        className: \"research-history\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"history-header\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                        children: \"Research History\"\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                        onClick: loadSessions,\n                        className: \"refresh-button\",\n                        children: \"\\u21BB Refresh\"\n                    })\n                ]\n            }),\n            error && /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"error-message\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                        className: \"error-icon\",\n                        children: \"\\u26A0\\uFE0F\"\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                        children: error\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                        onClick: ()=>setError(null),\n                        className: \"dismiss-error\",\n                        children: \"\\xd7\"\n                    })\n                ]\n            }),\n            sessions.length === 0 ? /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"no-sessions\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                        children: \"No saved research sessions found.\"\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                        children: \"Completed research will appear here for resuming later.\"\n                    })\n                ]\n            }) : /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"sessions-list\",\n                children: sessions.map((session)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"session-item\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"session-info\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        className: \"session-header\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"h4\", {\n                                                children: \"Research Session\"\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                className: `status-badge ${session.status}`,\n                                                children: session.status\n                                            })\n                                        ]\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        className: \"session-details\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"detail\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                        className: \"label\",\n                                                        children: \"ID:\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"code\", {\n                                                        className: \"value\",\n                                                        children: session.task_id\n                                                    })\n                                                ]\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"detail\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                        className: \"label\",\n                                                        children: \"Started:\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                        className: \"value\",\n                                                        children: session.start_time ? formatDate(session.start_time) : 'Unknown'\n                                                    })\n                                                ]\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: \"detail\",\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                        className: \"label\",\n                                                        children: \"Last Updated:\"\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                        className: \"value\",\n                                                        children: session.last_update ? formatDate(session.last_update) : 'Unknown'\n                                                    })\n                                                ]\n                                            })\n                                        ]\n                                    })\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"session-actions\",\n                                children: [\n                                    session.status === 'running' && /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                        onClick: ()=>handleResume(session.task_id),\n                                        className: \"resume-button\",\n                                        children: \"\\u25B6\\uFE0F Resume\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                        onClick: ()=>handleDelete(session.task_id),\n                                        className: \"delete-button\",\n                                        children: \"\\uD83D\\uDDD1\\uFE0F Delete\"\n                                    })\n                                ]\n                            })\n                        ]\n                    }, session.task_id))\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"style\", {\n                children: `\n        .research-history {\n          background: var(--bg-primary);\n          border-radius: 8px;\n          padding: 20px;\n          box-shadow: 0 2px 10px var(--shadow);\n          margin: 20px 0;\n        }\n\n        .history-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n        }\n\n        .history-header h3 {\n          margin: 0;\n          color: var(--text-primary);\n        }\n\n        .refresh-button {\n          padding: 8px 16px;\n          background: var(--text-secondary);\n          color: var(--bg-primary);\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 14px;\n        }\n\n        .refresh-button:hover {\n          background: var(--text-muted);\n        }\n\n        .error-message {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 10px;\n          background: rgba(220, 53, 69, 0.1);\n          border: 1px solid var(--error);\n          border-radius: 4px;\n          color: var(--error);\n          margin-bottom: 15px;\n        }\n\n        .dismiss-error {\n          margin-left: auto;\n          background: none;\n          border: none;\n          font-size: 18px;\n          cursor: pointer;\n          color: var(--error);\n        }\n\n        .no-sessions {\n          text-align: center;\n          padding: 40px;\n          color: var(--text-secondary);\n        }\n\n        .no-sessions p {\n          margin: 10px 0;\n        }\n\n        .sessions-list {\n          display: flex;\n          flex-direction: column;\n          gap: 15px;\n        }\n\n        .session-item {\n          border: 1px solid var(--border-color);\n          border-radius: 6px;\n          padding: 15px;\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          flex-wrap: wrap;\n          gap: 15px;\n          background: var(--bg-primary);\n        }\n\n        .session-info {\n          flex: 1;\n          min-width: 200px;\n        }\n\n        .session-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 10px;\n        }\n\n        .session-header h4 {\n          margin: 0;\n          color: var(--text-primary);\n        }\n\n        .status-badge {\n          padding: 4px 8px;\n          border-radius: 12px;\n          font-size: 12px;\n          font-weight: 500;\n          text-transform: uppercase;\n        }\n\n        .status-badge.running {\n          background: rgba(40, 167, 69, 0.2);\n          color: var(--success);\n        }\n\n        .status-badge.stopped {\n          background: rgba(255, 193, 7, 0.2);\n          color: var(--warning);\n        }\n\n        .session-details {\n          display: flex;\n          flex-direction: column;\n          gap: 5px;\n        }\n\n        .detail {\n          display: flex;\n          gap: 8px;\n          font-size: 14px;\n        }\n\n        .label {\n          font-weight: 500;\n          color: var(--text-secondary);\n          min-width: 70px;\n        }\n\n        .value {\n          color: var(--text-primary);\n        }\n\n        .value code {\n          background: var(--bg-tertiary);\n          padding: 2px 4px;\n          border-radius: 3px;\n          font-family: monospace;\n          font-size: 12px;\n        }\n\n        .session-actions {\n          display: flex;\n          gap: 8px;\n          flex-shrink: 0;\n        }\n\n        .resume-button,\n        .delete-button {\n          padding: 8px 12px;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: 500;\n          display: flex;\n          align-items: center;\n          gap: 4px;\n        }\n\n        .resume-button {\n          background: var(--success);\n          color: white;\n        }\n\n        .resume-button:hover {\n          background: #218838;\n        }\n\n        .delete-button {\n          background: var(--error);\n          color: white;\n        }\n\n        .delete-button:hover {\n          background: #c82333;\n        }\n\n        .loading {\n          text-align: center;\n          padding: 40px;\n        }\n\n        .spinner {\n          width: 30px;\n          height: 30px;\n          border: 3px solid var(--bg-tertiary);\n          border-top: 3px solid var(--accent);\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n          margin: 0 auto 15px;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          50% { transform: rotate(180deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        @media (max-width: 768px) {\n          .session-item {\n            flex-direction: column;\n          }\n\n          .session-actions {\n            align-self: stretch;\n            justify-content: space-between;\n          }\n\n          .history-header {\n            flex-direction: column;\n            gap: 10px;\n            align-items: flex-start;\n          }\n        }\n      `\n            })\n        ]\n    });\n};\nvar $57edc0b93047f8d3$export$2e2bcd8739ae039 = $57edc0b93047f8d3$var$ResearchHistory;\n\n});\n\n\n//# sourceMappingURL=ResearchHistory.58073011.js.map\n","import React, { useState, useEffect } from 'react';\n\nconst ResearchHistory = ({ onResumeSession, onDeleteSession }) => {\n  const [sessions, setSessions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    loadSessions();\n  }, []);\n\n  const loadSessions = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch('/api/research/sessions');\n      if (!response.ok) {\n        throw new Error('Failed to load sessions');\n      }\n      const data = await response.json();\n      setSessions(data.sessions || []);\n      setError(null);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleResume = async (taskId) => {\n    try {\n      const response = await fetch(`/api/research/${taskId}/resume`, {\n        method: 'POST',\n      });\n      if (!response.ok) {\n        throw new Error('Failed to resume session');\n      }\n      const data = await response.json();\n      onResumeSession && onResumeSession(taskId);\n      // Reload sessions to update status\n      await loadSessions();\n    } catch (err) {\n      setError(`Failed to resume session: ${err.message}`);\n    }\n  };\n\n  const handleDelete = async (taskId) => {\n    if (!confirm(`Are you sure you want to delete research session ${taskId}?`)) {\n      return;\n    }\n\n    try {\n      const response = await fetch(`/api/research/${taskId}`, {\n        method: 'DELETE',\n      });\n      if (!response.ok) {\n        throw new Error('Failed to delete session');\n      }\n      onDeleteSession && onDeleteSession(taskId);\n      // Reload sessions\n      await loadSessions();\n    } catch (err) {\n      setError(`Failed to delete session: ${err.message}`);\n    }\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleString();\n  };\n\n  if (loading) {\n    return (\n      <div className=\"research-history loading\">\n        <div className=\"spinner\"></div>\n        <p>Loading research history...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"research-history\">\n      <div className=\"history-header\">\n        <h3>Research History</h3>\n        <button onClick={loadSessions} className=\"refresh-button\">\n          ‚Üª Refresh\n        </button>\n      </div>\n\n      {error && (\n        <div className=\"error-message\">\n          <span className=\"error-icon\">‚ö†Ô∏è</span>\n          <span>{error}</span>\n          <button onClick={() => setError(null)} className=\"dismiss-error\">√ó</button>\n        </div>\n      )}\n\n      {sessions.length === 0 ? (\n        <div className=\"no-sessions\">\n          <p>No saved research sessions found.</p>\n          <p>Completed research will appear here for resuming later.</p>\n        </div>\n      ) : (\n        <div className=\"sessions-list\">\n          {sessions.map((session) => (\n            <div key={session.task_id} className=\"session-item\">\n              <div className=\"session-info\">\n                <div className=\"session-header\">\n                  <h4>Research Session</h4>\n                  <span className={`status-badge ${session.status}`}>\n                    {session.status}\n                  </span>\n                </div>\n                <div className=\"session-details\">\n                  <div className=\"detail\">\n                    <span className=\"label\">ID:</span>\n                    <code className=\"value\">{session.task_id}</code>\n                  </div>\n                  <div className=\"detail\">\n                    <span className=\"label\">Started:</span>\n                    <span className=\"value\">\n                      {session.start_time ? formatDate(session.start_time) : 'Unknown'}\n                    </span>\n                  </div>\n                  <div className=\"detail\">\n                    <span className=\"label\">Last Updated:</span>\n                    <span className=\"value\">\n                      {session.last_update ? formatDate(session.last_update) : 'Unknown'}\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div className=\"session-actions\">\n                {session.status === 'running' && (\n                  <button\n                    onClick={() => handleResume(session.task_id)}\n                    className=\"resume-button\"\n                  >\n                    ‚ñ∂Ô∏è Resume\n                  </button>\n                )}\n                <button\n                  onClick={() => handleDelete(session.task_id)}\n                  className=\"delete-button\"\n                >\n                  üóëÔ∏è Delete\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      <style>{`\n        .research-history {\n          background: var(--bg-primary);\n          border-radius: 8px;\n          padding: 20px;\n          box-shadow: 0 2px 10px var(--shadow);\n          margin: 20px 0;\n        }\n\n        .history-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n        }\n\n        .history-header h3 {\n          margin: 0;\n          color: var(--text-primary);\n        }\n\n        .refresh-button {\n          padding: 8px 16px;\n          background: var(--text-secondary);\n          color: var(--bg-primary);\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 14px;\n        }\n\n        .refresh-button:hover {\n          background: var(--text-muted);\n        }\n\n        .error-message {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 10px;\n          background: rgba(220, 53, 69, 0.1);\n          border: 1px solid var(--error);\n          border-radius: 4px;\n          color: var(--error);\n          margin-bottom: 15px;\n        }\n\n        .dismiss-error {\n          margin-left: auto;\n          background: none;\n          border: none;\n          font-size: 18px;\n          cursor: pointer;\n          color: var(--error);\n        }\n\n        .no-sessions {\n          text-align: center;\n          padding: 40px;\n          color: var(--text-secondary);\n        }\n\n        .no-sessions p {\n          margin: 10px 0;\n        }\n\n        .sessions-list {\n          display: flex;\n          flex-direction: column;\n          gap: 15px;\n        }\n\n        .session-item {\n          border: 1px solid var(--border-color);\n          border-radius: 6px;\n          padding: 15px;\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          flex-wrap: wrap;\n          gap: 15px;\n          background: var(--bg-primary);\n        }\n\n        .session-info {\n          flex: 1;\n          min-width: 200px;\n        }\n\n        .session-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 10px;\n        }\n\n        .session-header h4 {\n          margin: 0;\n          color: var(--text-primary);\n        }\n\n        .status-badge {\n          padding: 4px 8px;\n          border-radius: 12px;\n          font-size: 12px;\n          font-weight: 500;\n          text-transform: uppercase;\n        }\n\n        .status-badge.running {\n          background: rgba(40, 167, 69, 0.2);\n          color: var(--success);\n        }\n\n        .status-badge.stopped {\n          background: rgba(255, 193, 7, 0.2);\n          color: var(--warning);\n        }\n\n        .session-details {\n          display: flex;\n          flex-direction: column;\n          gap: 5px;\n        }\n\n        .detail {\n          display: flex;\n          gap: 8px;\n          font-size: 14px;\n        }\n\n        .label {\n          font-weight: 500;\n          color: var(--text-secondary);\n          min-width: 70px;\n        }\n\n        .value {\n          color: var(--text-primary);\n        }\n\n        .value code {\n          background: var(--bg-tertiary);\n          padding: 2px 4px;\n          border-radius: 3px;\n          font-family: monospace;\n          font-size: 12px;\n        }\n\n        .session-actions {\n          display: flex;\n          gap: 8px;\n          flex-shrink: 0;\n        }\n\n        .resume-button,\n        .delete-button {\n          padding: 8px 12px;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: 500;\n          display: flex;\n          align-items: center;\n          gap: 4px;\n        }\n\n        .resume-button {\n          background: var(--success);\n          color: white;\n        }\n\n        .resume-button:hover {\n          background: #218838;\n        }\n\n        .delete-button {\n          background: var(--error);\n          color: white;\n        }\n\n        .delete-button:hover {\n          background: #c82333;\n        }\n\n        .loading {\n          text-align: center;\n          padding: 40px;\n        }\n\n        .spinner {\n          width: 30px;\n          height: 30px;\n          border: 3px solid var(--bg-tertiary);\n          border-top: 3px solid var(--accent);\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n          margin: 0 auto 15px;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          50% { transform: rotate(180deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        @media (max-width: 768px) {\n          .session-item {\n            flex-direction: column;\n          }\n\n          .session-actions {\n            align-self: stretch;\n            justify-content: space-between;\n          }\n\n          .history-header {\n            flex-direction: column;\n            gap: 10px;\n            align-items: flex-start;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default ResearchHistory;"],"names":["parcelRequire","$parcel$global","globalThis","parcelRegister","register","module","exports","Object","defineProperty","value","configurable","get","$57edc0b93047f8d3$export$2e2bcd8739ae039","set","s","enumerable","$ayMG0","$acw62","onResumeSession","onDeleteSession","sessions","setSessions","useState","loading","setLoading","error","setError","useEffect","loadSessions","response","fetch","ok","Error","data","json","err","message","handleResume","taskId","method","handleDelete","confirm","formatDate","dateString","Date","toLocaleString","jsxs","className","children","jsx","onClick","length","map","session","status","task_id","start_time","last_update"],"version":3,"file":"ResearchHistory.58073011.js.map"}