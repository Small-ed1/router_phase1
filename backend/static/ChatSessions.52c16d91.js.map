{"mappings":"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","sources":["<anon>","src/ChatSessions.js","src/Skeleton.js","src/apiCache.js"],"sourcesContent":["\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true, configurable: true});\n}\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequire10c2\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"7nx9Q\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", () => $55f466d441890447$export$2e2bcd8739ae039);\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\n\nvar $acw62 = parcelRequire(\"acw62\");\n\nvar $gC2yi = parcelRequire(\"gC2yi\");\n\nvar $2zAJi = parcelRequire(\"2zAJi\");\nconst $55f466d441890447$var$ChatSessions = /*#__PURE__*/ (0, (/*@__PURE__*/$parcel$interopDefault($acw62))).memo(({ onSessionSelect: onSessionSelect, currentSessionId: currentSessionId })=>{\n    const [sessions, setSessions] = (0, $acw62.useState)([]);\n    const [loading, setLoading] = (0, $acw62.useState)(true);\n    const [error, setError] = (0, $acw62.useState)(null);\n    const [showArchived, setShowArchived] = (0, $acw62.useState)(false);\n    (0, $acw62.useEffect)(()=>{\n        loadSessions();\n    }, [\n        showArchived\n    ]);\n    const loadSessions = async ()=>{\n        try {\n            setLoading(true);\n            const data = await (0, $2zAJi.cachedFetch)('/api/chats');\n            setSessions(data || []);\n            setError(null);\n        } catch (err) {\n            setError(err.message);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const createNewSession = async ()=>{\n        try {\n            const response = await fetch('/api/chats', {\n                method: 'POST'\n            });\n            if (!response.ok) throw new Error('Failed to create session');\n            const data = await response.json();\n            onSessionSelect && onSessionSelect(data.id);\n            await loadSessions(); // Refresh the list\n        } catch (err) {\n            setError(`Failed to create session: ${err.message}`);\n        }\n    };\n    const archiveSession = async (sessionId)=>{\n        if (!confirm(`Are you sure you want to archive this session?`)) return;\n        try {\n            const response = await fetch(`/api/chats/${sessionId}/archive`, {\n                method: 'POST'\n            });\n            if (!response.ok) throw new Error('Failed to archive session');\n            await loadSessions(); // Refresh the list\n        } catch (err) {\n            setError(`Failed to archive session: ${err.message}`);\n        }\n    };\n    const deleteSession = async (sessionId)=>{\n        if (!confirm(`Are you sure you want to permanently delete this session? This action cannot be undone.`)) return;\n        try {\n            const response = await fetch(`/api/chats/${sessionId}`, {\n                method: 'DELETE'\n            });\n            if (!response.ok) throw new Error('Failed to delete session');\n            await loadSessions(); // Refresh the list\n        } catch (err) {\n            setError(`Failed to delete session: ${err.message}`);\n        }\n    };\n    const formatDate = (dateString)=>{\n        if (!dateString) return 'Unknown';\n        const date = new Date(dateString);\n        const now = new Date();\n        const diffMs = now - date;\n        const diffHours = diffMs / 3600000;\n        if (diffHours < 24) return date.toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n        });\n        else if (diffHours < 168) return date.toLocaleDateString([], {\n            weekday: 'short',\n            hour: '2-digit',\n            minute: '2-digit'\n        });\n        else return date.toLocaleDateString();\n    };\n    const getSessionPreview = (session)=>{\n        if (session.summary) return session.summary;\n        if (session.messages && session.messages.length > 0) {\n            const lastMessage = session.messages[session.messages.length - 1];\n            return lastMessage.content ? lastMessage.content.substring(0, 100) + '...' : 'Empty message';\n        }\n        return 'New conversation';\n    };\n    const filteredSessions = sessions.filter((session)=>showArchived || !session.archived);\n    if (loading) return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        className: \"chat-sessions\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"sessions-header\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsx)((0, $gC2yi.default), {\n                        width: \"150px\",\n                        height: \"1.2rem\"\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"header-actions\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsx)((0, $gC2yi.default), {\n                                width: \"100px\",\n                                height: \"2rem\"\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsx)((0, $gC2yi.default), {\n                                width: \"100px\",\n                                height: \"2rem\"\n                            })\n                        ]\n                    })\n                ]\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"sessions-list\",\n                children: Array.from({\n                    length: 3\n                }, (_, i)=>/*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                        className: \"session-item\",\n                        children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                            className: \"document-info\",\n                            children: [\n                                /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                    className: \"session-title-row\",\n                                    children: [\n                                        /*#__PURE__*/ (0, $ayMG0.jsx)((0, $gC2yi.default), {\n                                            width: \"80%\",\n                                            height: \"1rem\"\n                                        }),\n                                        /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                            className: \"session-actions\",\n                                            children: [\n                                                /*#__PURE__*/ (0, $ayMG0.jsx)((0, $gC2yi.default), {\n                                                    width: \"24px\",\n                                                    height: \"24px\",\n                                                    variant: \"circular\"\n                                                }),\n                                                /*#__PURE__*/ (0, $ayMG0.jsx)((0, $gC2yi.default), {\n                                                    width: \"24px\",\n                                                    height: \"24px\",\n                                                    variant: \"circular\"\n                                                })\n                                            ]\n                                        })\n                                    ]\n                                }),\n                                /*#__PURE__*/ (0, $ayMG0.jsx)((0, $gC2yi.SkeletonText), {\n                                    lines: 2,\n                                    width: \"100%\"\n                                }),\n                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                    className: \"session-meta\",\n                                    children: /*#__PURE__*/ (0, $ayMG0.jsx)((0, $gC2yi.default), {\n                                        width: \"60px\",\n                                        height: \"0.8rem\"\n                                    })\n                                })\n                            ]\n                        })\n                    }, i))\n            })\n        ]\n    });\n    return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        className: \"chat-sessions\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"sessions-header\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                        children: \"Chat Sessions\"\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"header-actions\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"label\", {\n                                className: \"archive-toggle\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"input\", {\n                                        type: \"checkbox\",\n                                        checked: showArchived,\n                                        onChange: (e)=>setShowArchived(e.target.checked)\n                                    }),\n                                    \"Show archived\"\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                onClick: createNewSession,\n                                className: \"new-session-button\",\n                                children: \"+ New Chat\"\n                            })\n                        ]\n                    })\n                ]\n            }),\n            error && /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"error-message\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                        className: \"error-icon\",\n                        children: \"\\u26A0\\uFE0F\"\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                        children: error\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                        onClick: ()=>setError(null),\n                        className: \"dismiss-error\",\n                        children: \"\\xd7\"\n                    })\n                ]\n            }),\n            filteredSessions.length === 0 ? /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"no-sessions\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                        children: showArchived ? 'No archived sessions found.' : 'No chat sessions found.'\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                        children: \"Start a new conversation to see it here.\"\n                    })\n                ]\n            }) : /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"sessions-list\",\n                children: filteredSessions.map((session)=>/*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                        className: `session-item ${session.id === currentSessionId ? 'active' : ''} ${session.archived ? 'archived' : ''}`,\n                        onClick: ()=>onSessionSelect && onSessionSelect(session.id),\n                        children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                            className: \"session-content\",\n                            children: [\n                                /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                    className: \"session-title-row\",\n                                    children: [\n                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"h4\", {\n                                            className: \"session-title\",\n                                            children: session.title || 'Untitled Chat'\n                                        }),\n                                        /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                            className: \"session-actions\",\n                                            children: [\n                                                !session.archived && /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                    onClick: (e)=>{\n                                                        e.stopPropagation();\n                                                        archiveSession(session.id);\n                                                    },\n                                                    className: \"archive-button\",\n                                                    title: \"Archive session\",\n                                                    children: \"\\uD83D\\uDCC1\"\n                                                }),\n                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                    onClick: (e)=>{\n                                                        e.stopPropagation();\n                                                        deleteSession(session.id);\n                                                    },\n                                                    className: \"delete-button\",\n                                                    title: \"Delete session\",\n                                                    children: \"\\uD83D\\uDDD1\\uFE0F\"\n                                                })\n                                            ]\n                                        })\n                                    ]\n                                }),\n                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                                    className: \"session-preview\",\n                                    children: getSessionPreview(session)\n                                }),\n                                /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                    className: \"session-meta\",\n                                    children: [\n                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                            className: \"session-date\",\n                                            children: formatDate(session.created_at)\n                                        }),\n                                        session.archived && /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                            className: \"archived-badge\",\n                                            children: \"Archived\"\n                                        })\n                                    ]\n                                })\n                            ]\n                        })\n                    }, session.id))\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"style\", {\n                children: `\n        .chat-sessions {\n          background: var(--bg-primary);\n          border-radius: 8px;\n          padding: 20px;\n          box-shadow: 0 2px 10px var(--shadow);\n          margin: 20px 0;\n        }\n\n        .sessions-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n          flex-wrap: wrap;\n          gap: 15px;\n        }\n\n        .sessions-header h3 {\n          margin: 0;\n          color: var(--text-primary);\n        }\n\n        .header-actions {\n          display: flex;\n          align-items: center;\n          gap: 15px;\n        }\n\n        .archive-toggle {\n          display: flex;\n          align-items: center;\n          gap: 5px;\n          font-size: 14px;\n          color: var(--text-secondary);\n          cursor: pointer;\n        }\n\n        .archive-toggle input[type=\"checkbox\"] {\n          margin: 0;\n        }\n\n        .new-session-button {\n          padding: 8px 16px;\n          background: var(--accent);\n          color: white;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: 500;\n        }\n\n        .new-session-button:hover {\n          background: #0056b3;\n        }\n\n        .error-message {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 10px;\n          background: #f8d7da;\n          border: 1px solid #f5c6cb;\n          border-radius: 4px;\n          color: #721c24;\n          margin-bottom: 15px;\n        }\n\n        .dismiss-error {\n          margin-left: auto;\n          background: none;\n          border: none;\n          font-size: 18px;\n          cursor: pointer;\n          color: #721c24;\n        }\n\n        .no-sessions {\n          text-align: center;\n          padding: 40px;\n          color: #666;\n        }\n\n        .no-sessions p {\n          margin: 10px 0;\n        }\n\n        .sessions-list {\n          display: flex;\n          flex-direction: column;\n          gap: 10px;\n        }\n\n        .session-item {\n          border: 1px solid #e9ecef;\n          border-radius: 6px;\n          padding: 15px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          background: #f8f9fa;\n        }\n\n        .session-item:hover {\n          box-shadow: 0 2px 8px var(--shadow);\n        }\n\n        .session-item.selected {\n          border-color: var(--accent);\n        }\n\n        .session-item.active {\n          border-color: #007bff;\n          background: #e7f3ff;\n        }\n\n        .session-item.archived {\n          opacity: 0.7;\n          border-style: dashed;\n        }\n\n        .session-content {\n          width: 100%;\n        }\n\n        .session-title-row {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          margin-bottom: 8px;\n        }\n\n        .session-title {\n          margin: 0 0 8px 0;\n          color: var(--text-primary);\n        }\n\n        .session-actions {\n          display: flex;\n          gap: 5px;\n          opacity: 0;\n          transition: opacity 0.2s ease;\n        }\n\n        .session-item:hover .session-actions {\n          opacity: 1;\n        }\n\n        .archive-button,\n        .delete-button {\n          background: none;\n          border: none;\n          cursor: pointer;\n          padding: 4px;\n          border-radius: 3px;\n          font-size: 14px;\n          transition: background-color 0.2s ease;\n        }\n\n        .archive-button:hover {\n          background: #e9ecef;\n        }\n\n        .delete-button:hover {\n          background: #f8d7da;\n        }\n\n        .session-preview {\n          margin: 0 0 8px 0;\n          color: #666;\n          font-size: 14px;\n          line-height: 1.4;\n          display: -webkit-box;\n          -webkit-line-clamp: 2;\n          -webkit-box-orient: vertical;\n          overflow: hidden;\n        }\n\n        .session-meta {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          font-size: 12px;\n        }\n\n        .session-date {\n          color: #999;\n        }\n\n        .archived-badge {\n          background: #ffc107;\n          color: #856404;\n          padding: 2px 6px;\n          border-radius: 10px;\n          font-size: 10px;\n          font-weight: 500;\n        }\n\n        .loading {\n          text-align: center;\n          padding: 40px;\n        }\n\n        .spinner {\n          width: 30px;\n          height: 30px;\n          border: 3px solid #f3f3f3;\n          border-top: 3px solid var(--accent);\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n          margin: 0 auto 15px;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          50% { transform: rotate(180deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        @media (max-width: 768px) {\n          .sessions-header {\n            flex-direction: column;\n            align-items: flex-start;\n          }\n\n          .header-actions {\n            width: 100%;\n            justify-content: space-between;\n          }\n\n          .session-title-row {\n            flex-direction: column;\n            gap: 10px;\n          }\n\n          .session-actions {\n            opacity: 1;\n            justify-content: flex-end;\n          }\n\n          .session-meta {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 5px;\n          }\n        }\n      `\n            })\n        ]\n    });\n});\n$55f466d441890447$var$ChatSessions.displayName = 'ChatSessions';\nvar $55f466d441890447$export$2e2bcd8739ae039 = $55f466d441890447$var$ChatSessions;\n\n});\nparcelRegister(\"gC2yi\", function(module, exports) {\n\n$parcel$export(module.exports, \"SkeletonText\", () => $c1822cc66efdc89d$export$cb6ddd830302c2a8);\n$parcel$export(module.exports, \"default\", () => $c1822cc66efdc89d$export$2e2bcd8739ae039);\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\nparcelRequire(\"acw62\");\nconst $c1822cc66efdc89d$var$Skeleton = ({ width: width = '100%', height: height = '1rem', className: className = '', variant: variant = 'text', animation: animation = 'pulse' })=>{\n    const baseClasses = 'skeleton';\n    const variantClasses = {\n        text: 'skeleton-text',\n        rectangular: 'skeleton-rectangular',\n        circular: 'skeleton-circular',\n        avatar: 'skeleton-avatar'\n    };\n    const animationClasses = {\n        pulse: 'skeleton-pulse',\n        wave: 'skeleton-wave'\n    };\n    const classes = [\n        baseClasses,\n        variantClasses[variant] || variantClasses.text,\n        animationClasses[animation] || animationClasses.pulse,\n        className\n    ].filter(Boolean).join(' ');\n    return /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n        className: classes,\n        style: {\n            width: width,\n            height: height\n        }\n    });\n};\nconst $c1822cc66efdc89d$export$cb6ddd830302c2a8 = ({ lines: lines = 1, width: width = '100%', ...props })=>/*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n        className: \"skeleton-text-block\",\n        children: Array.from({\n            length: lines\n        }, (_, i)=>/*#__PURE__*/ (0, $ayMG0.jsx)($c1822cc66efdc89d$var$Skeleton, {\n                width: i === lines - 1 ? '60%' : width,\n                height: \"1rem\",\n                variant: \"text\",\n                ...props\n            }, i))\n    });\nconst $c1822cc66efdc89d$export$5956eb8f2ff4afde = ({ height: height = '200px', ...props })=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        className: \"skeleton-card\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsx)($c1822cc66efdc89d$var$Skeleton, {\n                height: \"2rem\",\n                width: \"80%\",\n                className: \"skeleton-card-title\",\n                ...props\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)($c1822cc66efdc89d$var$Skeleton, {\n                height: height,\n                variant: \"rectangular\",\n                className: \"skeleton-card-content\",\n                ...props\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"skeleton-card-footer\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsx)($c1822cc66efdc89d$var$Skeleton, {\n                        width: \"40%\",\n                        height: \"0.8rem\",\n                        ...props\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsx)($c1822cc66efdc89d$var$Skeleton, {\n                        width: \"30%\",\n                        height: \"0.8rem\",\n                        ...props\n                    })\n                ]\n            })\n        ]\n    });\nconst $c1822cc66efdc89d$export$6a15d3f7c248c5bb = ({ rows: rows = 5, columns: columns = 4, ...props })=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        className: \"skeleton-table\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"skeleton-table-header\",\n                children: Array.from({\n                    length: columns\n                }, (_, i)=>/*#__PURE__*/ (0, $ayMG0.jsx)($c1822cc66efdc89d$var$Skeleton, {\n                        height: \"1.2rem\",\n                        width: \"100%\",\n                        ...props\n                    }, i))\n            }),\n            Array.from({\n                length: rows\n            }, (_, rowIndex)=>/*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                    className: \"skeleton-table-row\",\n                    children: Array.from({\n                        length: columns\n                    }, (_, colIndex)=>/*#__PURE__*/ (0, $ayMG0.jsx)($c1822cc66efdc89d$var$Skeleton, {\n                            height: \"1rem\",\n                            width: \"100%\",\n                            ...props\n                        }, colIndex))\n                }, rowIndex))\n        ]\n    });\nconst $c1822cc66efdc89d$export$53c2c5a35a7e31a2 = ({ size: size = '40px', ...props })=>/*#__PURE__*/ (0, $ayMG0.jsx)($c1822cc66efdc89d$var$Skeleton, {\n        width: size,\n        height: size,\n        variant: \"circular\",\n        ...props\n    });\nconst $c1822cc66efdc89d$export$7387c3f2666b9f16 = ({ width: width = '120px', ...props })=>/*#__PURE__*/ (0, $ayMG0.jsx)($c1822cc66efdc89d$var$Skeleton, {\n        width: width,\n        height: \"2.5rem\",\n        variant: \"rectangular\",\n        className: \"skeleton-button\",\n        ...props\n    });\nvar $c1822cc66efdc89d$export$2e2bcd8739ae039 = $c1822cc66efdc89d$var$Skeleton;\n\n});\n\nparcelRegister(\"2zAJi\", function(module, exports) {\n\n$parcel$export(module.exports, \"cachedFetch\", () => $1dfb57671fa2b5cd$export$7778c46af7f9c283);\n/**\n * API Caching and Request Deduplication Utility\n * Provides caching for API responses and prevents duplicate concurrent requests\n */ class $1dfb57671fa2b5cd$var$APICache {\n    constructor(){\n        this.cache = new Map();\n        this.pendingRequests = new Map();\n    }\n    /**\n   * Generate cache key from URL and options\n   */ generateKey(url, options = {}) {\n        const key = `${options.method || 'GET'}:${url}`;\n        if (options.body) key += `:${JSON.stringify(options.body)}`;\n        return key;\n    }\n    /**\n   * Check if response is cached and not expired\n   */ get(url, options = {}, maxAge = 300000) {\n        const key = this.generateKey(url, options);\n        const cached = this.cache.get(key);\n        if (cached && Date.now() - cached.timestamp < maxAge) return cached.data;\n        // Remove expired cache entry\n        if (cached) this.cache.delete(key);\n        return null;\n    }\n    /**\n   * Cache response data\n   */ set(url, options = {}, data) {\n        const key = this.generateKey(url, options);\n        this.cache.set(key, {\n            data: data,\n            timestamp: Date.now()\n        });\n        // Limit cache size to prevent memory leaks\n        if (this.cache.size > 100) {\n            const firstKey = this.cache.keys().next().value;\n            this.cache.delete(firstKey);\n        }\n    }\n    /**\n   * Clear cache for specific URL or all cache\n   */ clear(url = null, options = {}) {\n        if (url) {\n            const key = this.generateKey(url, options);\n            this.cache.delete(key);\n        } else this.cache.clear();\n    }\n    /**\n   * Handle concurrent requests with deduplication\n   */ async dedupedFetch(url, options = {}) {\n        const key = this.generateKey(url, options);\n        // Check if request is already pending\n        if (this.pendingRequests.has(key)) return this.pendingRequests.get(key);\n        // Create the fetch promise\n        const fetchPromise = this.fetchWithCache(url, options);\n        // Store the promise to prevent duplicate requests\n        this.pendingRequests.set(key, fetchPromise);\n        try {\n            const result = await fetchPromise;\n            return result;\n        } finally{\n            // Clean up pending request\n            this.pendingRequests.delete(key);\n        }\n    }\n    /**\n   * Fetch with caching and retry logic\n   */ async fetchWithCache(url, options = {}, cacheOptions = {}) {\n        const { useCache: useCache = true, maxAge: maxAge = 300000, retries: retries = 3, retryDelay: retryDelay = 1000 } = cacheOptions;\n        const method = options.method || 'GET';\n        // Only cache GET requests\n        if (useCache && method === 'GET') {\n            const cached = this.get(url, options, maxAge);\n            if (cached) return cached;\n        }\n        let lastError;\n        for(let attempt = 0; attempt <= retries; attempt++)try {\n            const response = await fetch(url, options);\n            if (!response.ok) {\n                // For server errors (5xx), retry\n                if (response.status >= 500 && attempt < retries) {\n                    await new Promise((resolve)=>setTimeout(resolve, retryDelay * Math.pow(2, attempt)));\n                    continue;\n                }\n                throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n            }\n            const data = await response.json();\n            // Cache successful GET responses\n            if (useCache && method === 'GET') this.set(url, options, data);\n            return data;\n        } catch (error) {\n            lastError = error;\n            // Don't retry for client errors (4xx) or if it's the last attempt\n            if (error.message.includes('HTTP 4') || attempt === retries) break;\n            // Wait before retrying\n            if (attempt < retries) await new Promise((resolve)=>setTimeout(resolve, retryDelay * Math.pow(2, attempt)));\n        }\n        // Don't cache errors\n        throw lastError;\n    }\n}\n// Global cache instance\nconst $1dfb57671fa2b5cd$var$apiCache = new $1dfb57671fa2b5cd$var$APICache();\nconst $1dfb57671fa2b5cd$export$7778c46af7f9c283 = (url, options = {}, cacheOptions = {})=>{\n    return $1dfb57671fa2b5cd$var$apiCache.dedupedFetch(url, options, cacheOptions);\n};\nconst $1dfb57671fa2b5cd$export$d2adf65b87e47523 = (url = null, options = {})=>{\n    $1dfb57671fa2b5cd$var$apiCache.clear(url, options);\n};\nconst $1dfb57671fa2b5cd$export$240638eee403ce4f = ()=>{\n    return {\n        cachedFetch: $1dfb57671fa2b5cd$export$7778c46af7f9c283,\n        clearCache: $1dfb57671fa2b5cd$export$d2adf65b87e47523\n    };\n};\nvar $1dfb57671fa2b5cd$export$2e2bcd8739ae039 = $1dfb57671fa2b5cd$var$apiCache;\n\n});\n\n\n\n//# sourceMappingURL=ChatSessions.52c16d91.js.map\n","import React, { useState, useEffect } from 'react';\nimport Skeleton, { SkeletonText, SkeletonCard } from './Skeleton';\nimport { cachedFetch } from './apiCache';\n\nconst ChatSessions = React.memo(({ onSessionSelect, currentSessionId }) => {\n  const [sessions, setSessions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showArchived, setShowArchived] = useState(false);\n\n  useEffect(() => {\n    loadSessions();\n  }, [showArchived]);\n\n  const loadSessions = async () => {\n    try {\n      setLoading(true);\n      const data = await cachedFetch('/api/chats');\n      setSessions(data || []);\n      setError(null);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const createNewSession = async () => {\n    try {\n      const response = await fetch('/api/chats', {\n        method: 'POST',\n      });\n      if (!response.ok) {\n        throw new Error('Failed to create session');\n      }\n      const data = await response.json();\n      onSessionSelect && onSessionSelect(data.id);\n      await loadSessions(); // Refresh the list\n    } catch (err) {\n      setError(`Failed to create session: ${err.message}`);\n    }\n  };\n\n  const archiveSession = async (sessionId) => {\n    if (!confirm(`Are you sure you want to archive this session?`)) {\n      return;\n    }\n\n    try {\n      const response = await fetch(`/api/chats/${sessionId}/archive`, {\n        method: 'POST',\n      });\n      if (!response.ok) {\n        throw new Error('Failed to archive session');\n      }\n      await loadSessions(); // Refresh the list\n    } catch (err) {\n      setError(`Failed to archive session: ${err.message}`);\n    }\n  };\n\n  const deleteSession = async (sessionId) => {\n    if (!confirm(`Are you sure you want to permanently delete this session? This action cannot be undone.`)) {\n      return;\n    }\n\n    try {\n      const response = await fetch(`/api/chats/${sessionId}`, {\n        method: 'DELETE',\n      });\n      if (!response.ok) {\n        throw new Error('Failed to delete session');\n      }\n      await loadSessions(); // Refresh the list\n    } catch (err) {\n      setError(`Failed to delete session: ${err.message}`);\n    }\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'Unknown';\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffMs = now - date;\n    const diffHours = diffMs / (1000 * 60 * 60);\n\n    if (diffHours < 24) {\n      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n    } else if (diffHours < 168) { // 7 days\n      return date.toLocaleDateString([], { weekday: 'short', hour: '2-digit', minute: '2-digit' });\n    } else {\n      return date.toLocaleDateString();\n    }\n  };\n\n  const getSessionPreview = (session) => {\n    if (session.summary) {\n      return session.summary;\n    }\n    if (session.messages && session.messages.length > 0) {\n      const lastMessage = session.messages[session.messages.length - 1];\n      return lastMessage.content ? lastMessage.content.substring(0, 100) + '...' : 'Empty message';\n    }\n    return 'New conversation';\n  };\n\n  const filteredSessions = sessions.filter(session =>\n    showArchived || !session.archived\n  );\n\n  if (loading) {\n    return (\n      <div className=\"chat-sessions\">\n        <div className=\"sessions-header\">\n          <Skeleton width=\"150px\" height=\"1.2rem\" />\n          <div className=\"header-actions\">\n            <Skeleton width=\"100px\" height=\"2rem\" />\n            <Skeleton width=\"100px\" height=\"2rem\" />\n          </div>\n        </div>\n\n        <div className=\"sessions-list\">\n          {Array.from({ length: 3 }, (_, i) => (\n            <div key={i} className=\"session-item\">\n              <div className=\"document-info\">\n                <div className=\"session-title-row\">\n                  <Skeleton width=\"80%\" height=\"1rem\" />\n                  <div className=\"session-actions\">\n                    <Skeleton width=\"24px\" height=\"24px\" variant=\"circular\" />\n                    <Skeleton width=\"24px\" height=\"24px\" variant=\"circular\" />\n                  </div>\n                </div>\n                <SkeletonText lines={2} width=\"100%\" />\n                <div className=\"session-meta\">\n                  <Skeleton width=\"60px\" height=\"0.8rem\" />\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"chat-sessions\">\n      <div className=\"sessions-header\">\n        <h3>Chat Sessions</h3>\n        <div className=\"header-actions\">\n          <label className=\"archive-toggle\">\n            <input\n              type=\"checkbox\"\n              checked={showArchived}\n              onChange={(e) => setShowArchived(e.target.checked)}\n            />\n            Show archived\n          </label>\n          <button onClick={createNewSession} className=\"new-session-button\">\n            + New Chat\n          </button>\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"error-message\">\n          <span className=\"error-icon\">‚ö†Ô∏è</span>\n          <span>{error}</span>\n          <button onClick={() => setError(null)} className=\"dismiss-error\">√ó</button>\n        </div>\n      )}\n\n      {filteredSessions.length === 0 ? (\n        <div className=\"no-sessions\">\n          <p>{showArchived ? 'No archived sessions found.' : 'No chat sessions found.'}</p>\n          <p>Start a new conversation to see it here.</p>\n        </div>\n      ) : (\n        <div className=\"sessions-list\">\n          {filteredSessions.map((session) => (\n            <div\n              key={session.id}\n              className={`session-item ${session.id === currentSessionId ? 'active' : ''} ${session.archived ? 'archived' : ''}`}\n              onClick={() => onSessionSelect && onSessionSelect(session.id)}\n            >\n              <div className=\"session-content\">\n                <div className=\"session-title-row\">\n                  <h4 className=\"session-title\">\n                    {session.title || 'Untitled Chat'}\n                  </h4>\n                  <div className=\"session-actions\">\n                    {!session.archived && (\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          archiveSession(session.id);\n                        }}\n                        className=\"archive-button\"\n                        title=\"Archive session\"\n                      >\n                        üìÅ\n                      </button>\n                    )}\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        deleteSession(session.id);\n                      }}\n                      className=\"delete-button\"\n                      title=\"Delete session\"\n                    >\n                      üóëÔ∏è\n                    </button>\n                  </div>\n                </div>\n\n                <p className=\"session-preview\">\n                  {getSessionPreview(session)}\n                </p>\n\n                <div className=\"session-meta\">\n                  <span className=\"session-date\">\n                    {formatDate(session.created_at)}\n                  </span>\n                  {session.archived && (\n                    <span className=\"archived-badge\">Archived</span>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      <style>{`\n        .chat-sessions {\n          background: var(--bg-primary);\n          border-radius: 8px;\n          padding: 20px;\n          box-shadow: 0 2px 10px var(--shadow);\n          margin: 20px 0;\n        }\n\n        .sessions-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n          flex-wrap: wrap;\n          gap: 15px;\n        }\n\n        .sessions-header h3 {\n          margin: 0;\n          color: var(--text-primary);\n        }\n\n        .header-actions {\n          display: flex;\n          align-items: center;\n          gap: 15px;\n        }\n\n        .archive-toggle {\n          display: flex;\n          align-items: center;\n          gap: 5px;\n          font-size: 14px;\n          color: var(--text-secondary);\n          cursor: pointer;\n        }\n\n        .archive-toggle input[type=\"checkbox\"] {\n          margin: 0;\n        }\n\n        .new-session-button {\n          padding: 8px 16px;\n          background: var(--accent);\n          color: white;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: 500;\n        }\n\n        .new-session-button:hover {\n          background: #0056b3;\n        }\n\n        .error-message {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 10px;\n          background: #f8d7da;\n          border: 1px solid #f5c6cb;\n          border-radius: 4px;\n          color: #721c24;\n          margin-bottom: 15px;\n        }\n\n        .dismiss-error {\n          margin-left: auto;\n          background: none;\n          border: none;\n          font-size: 18px;\n          cursor: pointer;\n          color: #721c24;\n        }\n\n        .no-sessions {\n          text-align: center;\n          padding: 40px;\n          color: #666;\n        }\n\n        .no-sessions p {\n          margin: 10px 0;\n        }\n\n        .sessions-list {\n          display: flex;\n          flex-direction: column;\n          gap: 10px;\n        }\n\n        .session-item {\n          border: 1px solid #e9ecef;\n          border-radius: 6px;\n          padding: 15px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          background: #f8f9fa;\n        }\n\n        .session-item:hover {\n          box-shadow: 0 2px 8px var(--shadow);\n        }\n\n        .session-item.selected {\n          border-color: var(--accent);\n        }\n\n        .session-item.active {\n          border-color: #007bff;\n          background: #e7f3ff;\n        }\n\n        .session-item.archived {\n          opacity: 0.7;\n          border-style: dashed;\n        }\n\n        .session-content {\n          width: 100%;\n        }\n\n        .session-title-row {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          margin-bottom: 8px;\n        }\n\n        .session-title {\n          margin: 0 0 8px 0;\n          color: var(--text-primary);\n        }\n\n        .session-actions {\n          display: flex;\n          gap: 5px;\n          opacity: 0;\n          transition: opacity 0.2s ease;\n        }\n\n        .session-item:hover .session-actions {\n          opacity: 1;\n        }\n\n        .archive-button,\n        .delete-button {\n          background: none;\n          border: none;\n          cursor: pointer;\n          padding: 4px;\n          border-radius: 3px;\n          font-size: 14px;\n          transition: background-color 0.2s ease;\n        }\n\n        .archive-button:hover {\n          background: #e9ecef;\n        }\n\n        .delete-button:hover {\n          background: #f8d7da;\n        }\n\n        .session-preview {\n          margin: 0 0 8px 0;\n          color: #666;\n          font-size: 14px;\n          line-height: 1.4;\n          display: -webkit-box;\n          -webkit-line-clamp: 2;\n          -webkit-box-orient: vertical;\n          overflow: hidden;\n        }\n\n        .session-meta {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          font-size: 12px;\n        }\n\n        .session-date {\n          color: #999;\n        }\n\n        .archived-badge {\n          background: #ffc107;\n          color: #856404;\n          padding: 2px 6px;\n          border-radius: 10px;\n          font-size: 10px;\n          font-weight: 500;\n        }\n\n        .loading {\n          text-align: center;\n          padding: 40px;\n        }\n\n        .spinner {\n          width: 30px;\n          height: 30px;\n          border: 3px solid #f3f3f3;\n          border-top: 3px solid var(--accent);\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n          margin: 0 auto 15px;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          50% { transform: rotate(180deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        @media (max-width: 768px) {\n          .sessions-header {\n            flex-direction: column;\n            align-items: flex-start;\n          }\n\n          .header-actions {\n            width: 100%;\n            justify-content: space-between;\n          }\n\n          .session-title-row {\n            flex-direction: column;\n            gap: 10px;\n          }\n\n          .session-actions {\n            opacity: 1;\n            justify-content: flex-end;\n          }\n\n          .session-meta {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 5px;\n          }\n        }\n      `}</style>\n    </div>\n  );\n});\n\nChatSessions.displayName = 'ChatSessions';\n\nexport default ChatSessions;","import React from 'react';\n\nconst Skeleton = ({\n  width = '100%',\n  height = '1rem',\n  className = '',\n  variant = 'text',\n  animation = 'pulse'\n}) => {\n  const baseClasses = 'skeleton';\n\n  const variantClasses = {\n    text: 'skeleton-text',\n    rectangular: 'skeleton-rectangular',\n    circular: 'skeleton-circular',\n    avatar: 'skeleton-avatar',\n  };\n\n  const animationClasses = {\n    pulse: 'skeleton-pulse',\n    wave: 'skeleton-wave',\n  };\n\n  const classes = [\n    baseClasses,\n    variantClasses[variant] || variantClasses.text,\n    animationClasses[animation] || animationClasses.pulse,\n    className,\n  ].filter(Boolean).join(' ');\n\n  return (\n    <div\n      className={classes}\n      style={{ width, height }}\n    />\n  );\n};\n\n// Predefined skeleton components\nexport const SkeletonText = ({ lines = 1, width = '100%', ...props }) => (\n  <div className=\"skeleton-text-block\">\n    {Array.from({ length: lines }, (_, i) => (\n      <Skeleton\n        key={i}\n        width={i === lines - 1 ? '60%' : width}\n        height=\"1rem\"\n        variant=\"text\"\n        {...props}\n      />\n    ))}\n  </div>\n);\n\nexport const SkeletonCard = ({ height = '200px', ...props }) => (\n  <div className=\"skeleton-card\">\n    <Skeleton height=\"2rem\" width=\"80%\" className=\"skeleton-card-title\" {...props} />\n    <Skeleton height={height} variant=\"rectangular\" className=\"skeleton-card-content\" {...props} />\n    <div className=\"skeleton-card-footer\">\n      <Skeleton width=\"40%\" height=\"0.8rem\" {...props} />\n      <Skeleton width=\"30%\" height=\"0.8rem\" {...props} />\n    </div>\n  </div>\n);\n\nexport const SkeletonTable = ({ rows = 5, columns = 4, ...props }) => (\n  <div className=\"skeleton-table\">\n    {/* Header */}\n    <div className=\"skeleton-table-header\">\n      {Array.from({ length: columns }, (_, i) => (\n        <Skeleton key={i} height=\"1.2rem\" width=\"100%\" {...props} />\n      ))}\n    </div>\n    {/* Rows */}\n    {Array.from({ length: rows }, (_, rowIndex) => (\n      <div key={rowIndex} className=\"skeleton-table-row\">\n        {Array.from({ length: columns }, (_, colIndex) => (\n          <Skeleton\n            key={colIndex}\n            height=\"1rem\"\n            width=\"100%\"\n            {...props}\n          />\n        ))}\n      </div>\n    ))}\n  </div>\n);\n\nexport const SkeletonAvatar = ({ size = '40px', ...props }) => (\n  <Skeleton\n    width={size}\n    height={size}\n    variant=\"circular\"\n    {...props}\n  />\n);\n\nexport const SkeletonButton = ({ width = '120px', ...props }) => (\n  <Skeleton\n    width={width}\n    height=\"2.5rem\"\n    variant=\"rectangular\"\n    className=\"skeleton-button\"\n    {...props}\n  />\n);\n\nexport default Skeleton;","/**\n * API Caching and Request Deduplication Utility\n * Provides caching for API responses and prevents duplicate concurrent requests\n */\n\nclass APICache {\n  constructor() {\n    this.cache = new Map();\n    this.pendingRequests = new Map();\n  }\n\n  /**\n   * Generate cache key from URL and options\n   */\n  generateKey(url, options = {}) {\n    const key = `${options.method || 'GET'}:${url}`;\n    if (options.body) {\n      key += `:${JSON.stringify(options.body)}`;\n    }\n    return key;\n  }\n\n  /**\n   * Check if response is cached and not expired\n   */\n  get(url, options = {}, maxAge = 300000) { // 5 minutes default\n    const key = this.generateKey(url, options);\n    const cached = this.cache.get(key);\n\n    if (cached && (Date.now() - cached.timestamp) < maxAge) {\n      return cached.data;\n    }\n\n    // Remove expired cache entry\n    if (cached) {\n      this.cache.delete(key);\n    }\n\n    return null;\n  }\n\n  /**\n   * Cache response data\n   */\n  set(url, options = {}, data) {\n    const key = this.generateKey(url, options);\n    this.cache.set(key, {\n      data,\n      timestamp: Date.now(),\n    });\n\n    // Limit cache size to prevent memory leaks\n    if (this.cache.size > 100) {\n      const firstKey = this.cache.keys().next().value;\n      this.cache.delete(firstKey);\n    }\n  }\n\n  /**\n   * Clear cache for specific URL or all cache\n   */\n  clear(url = null, options = {}) {\n    if (url) {\n      const key = this.generateKey(url, options);\n      this.cache.delete(key);\n    } else {\n      this.cache.clear();\n    }\n  }\n\n  /**\n   * Handle concurrent requests with deduplication\n   */\n  async dedupedFetch(url, options = {}) {\n    const key = this.generateKey(url, options);\n\n    // Check if request is already pending\n    if (this.pendingRequests.has(key)) {\n      return this.pendingRequests.get(key);\n    }\n\n    // Create the fetch promise\n    const fetchPromise = this.fetchWithCache(url, options);\n\n    // Store the promise to prevent duplicate requests\n    this.pendingRequests.set(key, fetchPromise);\n\n    try {\n      const result = await fetchPromise;\n      return result;\n    } finally {\n      // Clean up pending request\n      this.pendingRequests.delete(key);\n    }\n  }\n\n  /**\n   * Fetch with caching and retry logic\n   */\n  async fetchWithCache(url, options = {}, cacheOptions = {}) {\n    const { useCache = true, maxAge = 300000, retries = 3, retryDelay = 1000 } = cacheOptions;\n    const method = options.method || 'GET';\n\n    // Only cache GET requests\n    if (useCache && method === 'GET') {\n      const cached = this.get(url, options, maxAge);\n      if (cached) {\n        return cached;\n      }\n    }\n\n    let lastError;\n\n    for (let attempt = 0; attempt <= retries; attempt++) {\n      try {\n        const response = await fetch(url, options);\n\n        if (!response.ok) {\n          // For server errors (5xx), retry\n          if (response.status >= 500 && attempt < retries) {\n            await new Promise(resolve => setTimeout(resolve, retryDelay * Math.pow(2, attempt)));\n            continue;\n          }\n          throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n        }\n\n        const data = await response.json();\n\n        // Cache successful GET responses\n        if (useCache && method === 'GET') {\n          this.set(url, options, data);\n        }\n\n        return data;\n      } catch (error) {\n        lastError = error;\n\n        // Don't retry for client errors (4xx) or if it's the last attempt\n        if (error.message.includes('HTTP 4') || attempt === retries) {\n          break;\n        }\n\n        // Wait before retrying\n        if (attempt < retries) {\n          await new Promise(resolve => setTimeout(resolve, retryDelay * Math.pow(2, attempt)));\n        }\n      }\n    }\n\n    // Don't cache errors\n    throw lastError;\n  }\n}\n\n// Global cache instance\nconst apiCache = new APICache();\n\n/**\n * Cached fetch function with deduplication\n */\nexport const cachedFetch = (url, options = {}, cacheOptions = {}) => {\n  return apiCache.dedupedFetch(url, options, cacheOptions);\n};\n\n/**\n * Clear cache for specific URL or all\n */\nexport const clearCache = (url = null, options = {}) => {\n  apiCache.clear(url, options);\n};\n\n/**\n * React hook for cached API calls\n */\nexport const useCachedAPI = () => {\n  return {\n    cachedFetch,\n    clearCache,\n  };\n};\n\nexport default apiCache;"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","parcelRequire","$parcel$global","globalThis","parcelRegister","register","module","exports","value","$55f466d441890447$export$2e2bcd8739ae039","$ayMG0","$acw62","$gC2yi","$2zAJi","$55f466d441890447$var$ChatSessions","a","__esModule","default","memo","onSessionSelect","currentSessionId","sessions","setSessions","useState","loading","setLoading","error","setError","showArchived","setShowArchived","useEffect","loadSessions","data","cachedFetch","err","message","createNewSession","response","fetch","method","ok","Error","json","id","archiveSession","sessionId","confirm","deleteSession","filteredSessions","filter","session","archived","jsxs","className","children","jsx","width","height","Array","from","length","_","i","variant","SkeletonText","lines","type","checked","onChange","target","onClick","map","title","stopPropagation","getSessionPreview","summary","messages","lastMessage","content","substring","formatDate","dateString","date","Date","diffHours","diffMs","now","toLocaleTimeString","hour","minute","toLocaleDateString","weekday","created_at","displayName","$c1822cc66efdc89d$export$cb6ddd830302c2a8","$c1822cc66efdc89d$export$2e2bcd8739ae039","$c1822cc66efdc89d$var$Skeleton","animation","variantClasses","text","rectangular","circular","avatar","animationClasses","pulse","wave","classes","Boolean","join","style","props","$1dfb57671fa2b5cd$export$7778c46af7f9c283","$1dfb57671fa2b5cd$var$apiCache","cache","Map","pendingRequests","generateKey","url","options","key","body","JSON","stringify","maxAge","cached","timestamp","delete","size","firstKey","keys","next","clear","dedupedFetch","has","fetchPromise","fetchWithCache","cacheOptions","lastError","useCache","retries","retryDelay","attempt","status","Promise","resolve","setTimeout","Math","pow","statusText","includes"],"version":3,"file":"ChatSessions.52c16d91.js.map"}