{"mappings":"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AAA,EAAA,IAAA,AAAA,EAAC,MAHJ,CAKK,UAAW,CAAC,aAAa,EAAE,IAAyB,EAAQ,EAAE,CAAG,SAAW,GAAA,CAAI,CAChF,QAAS,IAAM,EAAoB,EAAQ,EAAE,E,S,CAE7C,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,MAAD,CAAK,UAAU,gBACZ,SAAA,EAAQ,KAAK,EAAI,e,GAEpB,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,MAAD,CAAK,UAAU,eACZ,SAAA,IAAI,KAAK,EAAQ,UAAU,EAAE,kBAAkB,E,GAEjD,EAAQ,QAAQ,EACf,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,MADF,CACM,UAAU,mBAAmB,SAAA,U,G,AAX/B,EAAA,EAAQ,EAAE,E,G,A,GAmBzB,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,MAAD,CAAK,UAAU,kBACb,SAAA,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,SAAD,CACE,UAAU,kBACV,QAAS,EACV,SAAA,a,E,G,A,G,A,GAOP,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,QAAD,CAAQ,SAAA;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AA0QR,MAAA,CAAC,A,G,A,EAGP,EAEA,CAAA,EAA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","sources":["<anon>","src/MainSidebar.js","src/apiCache.js"],"sourcesContent":["\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true, configurable: true});\n}\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequire10c2\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"3ayU3\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", () => $24ed61511a45fe63$export$2e2bcd8739ae039);\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\n\nvar $acw62 = parcelRequire(\"acw62\");\n\nvar $2zAJi = parcelRequire(\"2zAJi\");\nconst $24ed61511a45fe63$var$MainSidebar = /*#__PURE__*/ (0, (/*@__PURE__*/$parcel$interopDefault($acw62))).memo(({ isOpen: isOpen, onToggle: onToggle, activeMode: activeMode, onModeChange: onModeChange, currentChatSessionId: currentChatSessionId, onChatSessionSelect: onChatSessionSelect, selectedModel: selectedModel, onModelChange: onModelChange, onSettingsClick: onSettingsClick })=>{\n    const [sessions, setSessions] = (0, $acw62.useState)([]);\n    const [availableModels, setAvailableModels] = (0, $acw62.useState)([]);\n    const [showArchived, setShowArchived] = (0, $acw62.useState)(false);\n    (0, $acw62.useEffect)(()=>{\n        if (isOpen) {\n            loadSessions();\n            loadModels();\n        }\n    }, [\n        isOpen,\n        showArchived\n    ]);\n    const loadSessions = async ()=>{\n        try {\n            const data = await (0, $2zAJi.cachedFetch)('/api/chats');\n            setSessions(data || []);\n        } catch (error) {\n            console.error('Failed to load sessions:', error);\n        }\n    };\n    const loadModels = async ()=>{\n        try {\n            const data = await (0, $2zAJi.cachedFetch)('/api/models');\n            setAvailableModels(data.items || []);\n        } catch (error) {\n            console.error('Failed to load models:', error);\n        }\n    };\n    const createNewSession = async ()=>{\n        try {\n            const response = await fetch('/api/chats', {\n                method: 'POST'\n            });\n            if (response.ok) {\n                const data = await response.json();\n                onChatSessionSelect(data.id);\n                await loadSessions();\n            }\n        } catch (error) {\n            console.error('Failed to create session:', error);\n        }\n    };\n    const modes = [\n        {\n            id: 'home',\n            label: 'Home',\n            icon: \"\\uD83C\\uDFE0\"\n        },\n        {\n            id: 'chat',\n            label: 'Chat',\n            icon: \"\\uD83D\\uDCAC\"\n        },\n        {\n            id: 'research',\n            label: 'Deep Research',\n            icon: \"\\uD83D\\uDD2C\"\n        },\n        {\n            id: 'qa',\n            label: 'Documents',\n            icon: \"\\uD83D\\uDCDA\"\n        },\n        {\n            id: 'dashboard',\n            label: 'Dashboard',\n            icon: \"\\uD83D\\uDCCA\"\n        }\n    ];\n    return /*#__PURE__*/ (0, $ayMG0.jsxs)((0, $ayMG0.Fragment), {\n        children: [\n            isOpen && /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"sidebar-overlay\",\n                onClick: onToggle\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: `main-sidebar ${isOpen ? 'open' : ''}`,\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                        className: \"sidebar-header\",\n                        children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                            className: \"sidebar-title\",\n                            children: [\n                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"h2\", {\n                                    children: \"Router Phase 1\"\n                                }),\n                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                    className: \"sidebar-close\",\n                                    onClick: onToggle,\n                                    \"aria-label\": \"Close sidebar\",\n                                    children: \"\\u2715\"\n                                })\n                            ]\n                        })\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"sidebar-content\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"sidebar-section\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                                        children: \"Current Model\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"select\", {\n                                        value: selectedModel || '',\n                                        onChange: (e)=>onModelChange(e.target.value),\n                                        className: \"model-select\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                value: \"\",\n                                                children: \"Select Model...\"\n                                            }),\n                                            availableModels.map((model)=>/*#__PURE__*/ (0, $ayMG0.jsx)(\"option\", {\n                                                    value: model,\n                                                    children: model\n                                                }, model))\n                                        ]\n                                    })\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"sidebar-section\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                                        children: \"Modes\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                        className: \"mode-buttons\",\n                                        children: modes.map((mode)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"button\", {\n                                                className: `mode-button ${activeMode === mode.id ? 'active' : ''}`,\n                                                onClick: ()=>onModeChange(mode.id),\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                        className: \"mode-icon\",\n                                                        children: mode.icon\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                                        className: \"mode-label\",\n                                                        children: mode.label\n                                                    })\n                                                ]\n                                            }, mode.id))\n                                    })\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                className: \"sidebar-section\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                        className: \"section-header\",\n                                        children: [\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                                                children: \"Chat Sessions\"\n                                            }),\n                                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                className: \"new-session-btn\",\n                                                onClick: createNewSession,\n                                                title: \"New Chat\",\n                                                children: \"+\"\n                                            })\n                                        ]\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                        className: \"archive-toggle\",\n                                        children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"label\", {\n                                            children: [\n                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"input\", {\n                                                    type: \"checkbox\",\n                                                    checked: showArchived,\n                                                    onChange: (e)=>setShowArchived(e.target.checked)\n                                                }),\n                                                \"Show archived\"\n                                            ]\n                                        })\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                        className: \"sessions-list\",\n                                        children: sessions.filter((session)=>showArchived || !session.archived).map((session)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                                className: `session-item ${currentChatSessionId === session.id ? 'active' : ''}`,\n                                                onClick: ()=>onChatSessionSelect(session.id),\n                                                children: [\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                        className: \"session-title\",\n                                                        children: session.title || 'Untitled Chat'\n                                                    }),\n                                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                        className: \"session-date\",\n                                                        children: new Date(session.created_at).toLocaleDateString()\n                                                    }),\n                                                    session.archived && /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                                        className: \"session-archived\",\n                                                        children: \"Archived\"\n                                                    })\n                                                ]\n                                            }, session.id))\n                                    })\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                className: \"sidebar-section\",\n                                children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                    className: \"settings-button\",\n                                    onClick: onSettingsClick,\n                                    children: \"\\u2699\\uFE0F Settings\"\n                                })\n                            })\n                        ]\n                    })\n                ]\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"style\", {\n                children: `\n        .sidebar-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(0, 0, 0, 0.5);\n          z-index: 999;\n          display: none;\n        }\n\n        @media (max-width: 768px) {\n          .sidebar-overlay {\n            display: block;\n          }\n        }\n\n        .main-sidebar {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 320px;\n          height: 100vh;\n          background: var(--bg-primary);\n          border-right: 1px solid var(--border-color);\n          box-shadow: 2px 0 10px var(--shadow);\n          z-index: 1000;\n          transform: translateX(-100%);\n          transition: transform 0.3s ease;\n          display: flex;\n          flex-direction: column;\n          overflow: hidden;\n        }\n\n        .main-sidebar.open {\n          transform: translateX(0);\n        }\n\n        @media (min-width: 769px) {\n          .main-sidebar {\n            position: relative;\n            transform: translateX(0);\n          }\n\n          .sidebar-overlay {\n            display: none !important;\n          }\n        }\n\n        .sidebar-header {\n          padding: 20px;\n          border-bottom: 1px solid var(--border-color);\n          background: var(--bg-secondary);\n        }\n\n        .sidebar-title {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .sidebar-title h2 {\n          margin: 0;\n          color: var(--text-primary);\n          font-size: 18px;\n          font-weight: 600;\n        }\n\n        .sidebar-close {\n          background: none;\n          border: none;\n          font-size: 20px;\n          color: var(--text-secondary);\n          cursor: pointer;\n          padding: 4px;\n          border-radius: 4px;\n          transition: all 0.2s ease;\n        }\n\n        .sidebar-close:hover {\n          background: var(--bg-tertiary);\n          color: var(--text-primary);\n        }\n\n        @media (min-width: 769px) {\n          .sidebar-close {\n            display: none;\n          }\n        }\n\n        .sidebar-content {\n          flex: 1;\n          overflow-y: auto;\n          padding: 20px;\n          display: flex;\n          flex-direction: column;\n          gap: 24px;\n        }\n\n        .sidebar-section {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n\n        .sidebar-section h3 {\n          margin: 0;\n          color: var(--text-primary);\n          font-size: 14px;\n          font-weight: 600;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n\n        .model-select {\n          width: 100%;\n          padding: 8px 12px;\n          border: 2px solid var(--border-color);\n          border-radius: 6px;\n          background: var(--bg-primary);\n          color: var(--text-primary);\n          font-size: 14px;\n        }\n\n        .model-select:focus {\n          outline: none;\n          border-color: var(--accent);\n        }\n\n        .mode-buttons {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n        }\n\n        .mode-button {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 12px 16px;\n          background: none;\n          border: none;\n          border-radius: 8px;\n          color: var(--text-secondary);\n          cursor: pointer;\n          transition: all 0.2s ease;\n          text-align: left;\n        }\n\n        .mode-button:hover {\n          background: var(--bg-tertiary);\n          color: var(--text-primary);\n        }\n\n        .mode-button.active {\n          background: var(--accent);\n          color: white;\n        }\n\n        .mode-icon {\n          font-size: 18px;\n          width: 24px;\n          text-align: center;\n        }\n\n        .section-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .new-session-btn {\n          width: 32px;\n          height: 32px;\n          border-radius: 50%;\n          background: var(--accent);\n          color: white;\n          border: none;\n          cursor: pointer;\n          font-size: 18px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.2s ease;\n        }\n\n        .new-session-btn:hover {\n          background: #0056b3;\n          transform: scale(1.1);\n        }\n\n        .archive-toggle {\n          font-size: 12px;\n          color: var(--text-secondary);\n        }\n\n        .archive-toggle input[type=\"checkbox\"] {\n          margin-right: 6px;\n        }\n\n        .sessions-list {\n          display: flex;\n          flex-direction: column;\n          gap: 6px;\n          max-height: 300px;\n          overflow-y: auto;\n        }\n\n        .session-item {\n          padding: 12px;\n          border-radius: 6px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          border: 1px solid transparent;\n        }\n\n        .session-item:hover {\n          background: var(--bg-tertiary);\n        }\n\n        .session-item.active {\n          background: var(--accent);\n          color: white;\n          border-color: var(--accent);\n        }\n\n        .session-title {\n          font-weight: 500;\n          font-size: 14px;\n          margin-bottom: 4px;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .session-date {\n          font-size: 12px;\n          opacity: 0.7;\n        }\n\n        .session-archived {\n          font-size: 11px;\n          background: rgba(255, 255, 255, 0.2);\n          padding: 2px 6px;\n          border-radius: 10px;\n          margin-top: 4px;\n          display: inline-block;\n        }\n\n        .settings-button {\n          width: 100%;\n          padding: 12px 16px;\n          background: var(--bg-tertiary);\n          border: 1px solid var(--border-color);\n          border-radius: 8px;\n          color: var(--text-primary);\n          cursor: pointer;\n          font-size: 14px;\n          transition: all 0.2s ease;\n        }\n\n        .settings-button:hover {\n          background: var(--bg-secondary);\n          border-color: var(--accent);\n        }\n      `\n            })\n        ]\n    });\n});\n$24ed61511a45fe63$var$MainSidebar.displayName = 'MainSidebar';\nvar $24ed61511a45fe63$export$2e2bcd8739ae039 = $24ed61511a45fe63$var$MainSidebar;\n\n});\nparcelRegister(\"2zAJi\", function(module, exports) {\n\n$parcel$export(module.exports, \"cachedFetch\", () => $1dfb57671fa2b5cd$export$7778c46af7f9c283);\n/**\n * API Caching and Request Deduplication Utility\n * Provides caching for API responses and prevents duplicate concurrent requests\n */ class $1dfb57671fa2b5cd$var$APICache {\n    constructor(){\n        this.cache = new Map();\n        this.pendingRequests = new Map();\n    }\n    /**\n   * Generate cache key from URL and options\n   */ generateKey(url, options = {}) {\n        const key = `${options.method || 'GET'}:${url}`;\n        if (options.body) key += `:${JSON.stringify(options.body)}`;\n        return key;\n    }\n    /**\n   * Check if response is cached and not expired\n   */ get(url, options = {}, maxAge = 300000) {\n        const key = this.generateKey(url, options);\n        const cached = this.cache.get(key);\n        if (cached && Date.now() - cached.timestamp < maxAge) return cached.data;\n        // Remove expired cache entry\n        if (cached) this.cache.delete(key);\n        return null;\n    }\n    /**\n   * Cache response data\n   */ set(url, options = {}, data) {\n        const key = this.generateKey(url, options);\n        this.cache.set(key, {\n            data: data,\n            timestamp: Date.now()\n        });\n        // Limit cache size to prevent memory leaks\n        if (this.cache.size > 100) {\n            const firstKey = this.cache.keys().next().value;\n            this.cache.delete(firstKey);\n        }\n    }\n    /**\n   * Clear cache for specific URL or all cache\n   */ clear(url = null, options = {}) {\n        if (url) {\n            const key = this.generateKey(url, options);\n            this.cache.delete(key);\n        } else this.cache.clear();\n    }\n    /**\n   * Handle concurrent requests with deduplication\n   */ async dedupedFetch(url, options = {}) {\n        const key = this.generateKey(url, options);\n        // Check if request is already pending\n        if (this.pendingRequests.has(key)) return this.pendingRequests.get(key);\n        // Create the fetch promise\n        const fetchPromise = this.fetchWithCache(url, options);\n        // Store the promise to prevent duplicate requests\n        this.pendingRequests.set(key, fetchPromise);\n        try {\n            const result = await fetchPromise;\n            return result;\n        } finally{\n            // Clean up pending request\n            this.pendingRequests.delete(key);\n        }\n    }\n    /**\n   * Fetch with caching and retry logic\n   */ async fetchWithCache(url, options = {}, cacheOptions = {}) {\n        const { useCache: useCache = true, maxAge: maxAge = 300000, retries: retries = 3, retryDelay: retryDelay = 1000 } = cacheOptions;\n        const method = options.method || 'GET';\n        // Only cache GET requests\n        if (useCache && method === 'GET') {\n            const cached = this.get(url, options, maxAge);\n            if (cached) return cached;\n        }\n        let lastError;\n        for(let attempt = 0; attempt <= retries; attempt++)try {\n            const response = await fetch(url, options);\n            if (!response.ok) {\n                // For server errors (5xx), retry\n                if (response.status >= 500 && attempt < retries) {\n                    await new Promise((resolve)=>setTimeout(resolve, retryDelay * Math.pow(2, attempt)));\n                    continue;\n                }\n                throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n            }\n            const data = await response.json();\n            // Cache successful GET responses\n            if (useCache && method === 'GET') this.set(url, options, data);\n            return data;\n        } catch (error) {\n            lastError = error;\n            // Don't retry for client errors (4xx) or if it's the last attempt\n            if (error.message.includes('HTTP 4') || attempt === retries) break;\n            // Wait before retrying\n            if (attempt < retries) await new Promise((resolve)=>setTimeout(resolve, retryDelay * Math.pow(2, attempt)));\n        }\n        // Don't cache errors\n        throw lastError;\n    }\n}\n// Global cache instance\nconst $1dfb57671fa2b5cd$var$apiCache = new $1dfb57671fa2b5cd$var$APICache();\nconst $1dfb57671fa2b5cd$export$7778c46af7f9c283 = (url, options = {}, cacheOptions = {})=>{\n    return $1dfb57671fa2b5cd$var$apiCache.dedupedFetch(url, options, cacheOptions);\n};\nconst $1dfb57671fa2b5cd$export$d2adf65b87e47523 = (url = null, options = {})=>{\n    $1dfb57671fa2b5cd$var$apiCache.clear(url, options);\n};\nconst $1dfb57671fa2b5cd$export$240638eee403ce4f = ()=>{\n    return {\n        cachedFetch: $1dfb57671fa2b5cd$export$7778c46af7f9c283,\n        clearCache: $1dfb57671fa2b5cd$export$d2adf65b87e47523\n    };\n};\nvar $1dfb57671fa2b5cd$export$2e2bcd8739ae039 = $1dfb57671fa2b5cd$var$apiCache;\n\n});\n\n\n\n//# sourceMappingURL=MainSidebar.0b0e40fe.js.map\n","import React, { useState, useEffect } from 'react';\nimport { cachedFetch } from './apiCache';\n\nconst MainSidebar = React.memo(({\n  isOpen,\n  onToggle,\n  activeMode,\n  onModeChange,\n  currentChatSessionId,\n  onChatSessionSelect,\n  selectedModel,\n  onModelChange,\n  onSettingsClick\n}) => {\n  const [sessions, setSessions] = useState([]);\n  const [availableModels, setAvailableModels] = useState([]);\n  const [showArchived, setShowArchived] = useState(false);\n\n  useEffect(() => {\n    if (isOpen) {\n      loadSessions();\n      loadModels();\n    }\n  }, [isOpen, showArchived]);\n\n  const loadSessions = async () => {\n    try {\n      const data = await cachedFetch('/api/chats');\n      setSessions(data || []);\n    } catch (error) {\n      console.error('Failed to load sessions:', error);\n    }\n  };\n\n  const loadModels = async () => {\n    try {\n      const data = await cachedFetch('/api/models');\n      setAvailableModels(data.items || []);\n    } catch (error) {\n      console.error('Failed to load models:', error);\n    }\n  };\n\n  const createNewSession = async () => {\n    try {\n      const response = await fetch('/api/chats', { method: 'POST' });\n      if (response.ok) {\n        const data = await response.json();\n        onChatSessionSelect(data.id);\n        await loadSessions();\n      }\n    } catch (error) {\n      console.error('Failed to create session:', error);\n    }\n  };\n\n  const modes = [\n    { id: 'home', label: 'Home', icon: 'üè†' },\n    { id: 'chat', label: 'Chat', icon: 'üí¨' },\n    { id: 'research', label: 'Deep Research', icon: 'üî¨' },\n    { id: 'qa', label: 'Documents', icon: 'üìö' },\n    { id: 'dashboard', label: 'Dashboard', icon: 'üìä' }\n  ];\n\n  return (\n    <>\n      {/* Overlay for mobile */}\n      {isOpen && (\n        <div\n          className=\"sidebar-overlay\"\n          onClick={onToggle}\n        />\n      )}\n\n      <div className={`main-sidebar ${isOpen ? 'open' : ''}`}>\n        <div className=\"sidebar-header\">\n          <div className=\"sidebar-title\">\n            <h2>Router Phase 1</h2>\n            <button\n              className=\"sidebar-close\"\n              onClick={onToggle}\n              aria-label=\"Close sidebar\"\n            >\n              ‚úï\n            </button>\n          </div>\n        </div>\n\n        <div className=\"sidebar-content\">\n          {/* Model Selection */}\n          <div className=\"sidebar-section\">\n            <h3>Current Model</h3>\n            <select\n              value={selectedModel || ''}\n              onChange={(e) => onModelChange(e.target.value)}\n              className=\"model-select\"\n            >\n              <option value=\"\">Select Model...</option>\n              {availableModels.map(model => (\n                <option key={model} value={model}>\n                  {model}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Mode Navigation */}\n          <div className=\"sidebar-section\">\n            <h3>Modes</h3>\n            <div className=\"mode-buttons\">\n              {modes.map(mode => (\n                <button\n                  key={mode.id}\n                  className={`mode-button ${activeMode === mode.id ? 'active' : ''}`}\n                  onClick={() => onModeChange(mode.id)}\n                >\n                  <span className=\"mode-icon\">{mode.icon}</span>\n                  <span className=\"mode-label\">{mode.label}</span>\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Chat Sessions */}\n          <div className=\"sidebar-section\">\n            <div className=\"section-header\">\n              <h3>Chat Sessions</h3>\n              <button\n                className=\"new-session-btn\"\n                onClick={createNewSession}\n                title=\"New Chat\"\n              >\n                +\n              </button>\n            </div>\n\n            <div className=\"archive-toggle\">\n              <label>\n                <input\n                  type=\"checkbox\"\n                  checked={showArchived}\n                  onChange={(e) => setShowArchived(e.target.checked)}\n                />\n                Show archived\n              </label>\n            </div>\n\n            <div className=\"sessions-list\">\n              {sessions\n                .filter(session => showArchived || !session.archived)\n                .map(session => (\n                  <div\n                    key={session.id}\n                    className={`session-item ${currentChatSessionId === session.id ? 'active' : ''}`}\n                    onClick={() => onChatSessionSelect(session.id)}\n                  >\n                    <div className=\"session-title\">\n                      {session.title || 'Untitled Chat'}\n                    </div>\n                    <div className=\"session-date\">\n                      {new Date(session.created_at).toLocaleDateString()}\n                    </div>\n                    {session.archived && (\n                      <div className=\"session-archived\">Archived</div>\n                    )}\n                  </div>\n                ))}\n            </div>\n          </div>\n\n          {/* Settings */}\n          <div className=\"sidebar-section\">\n            <button\n              className=\"settings-button\"\n              onClick={onSettingsClick}\n            >\n              ‚öôÔ∏è Settings\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <style>{`\n        .sidebar-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(0, 0, 0, 0.5);\n          z-index: 999;\n          display: none;\n        }\n\n        @media (max-width: 768px) {\n          .sidebar-overlay {\n            display: block;\n          }\n        }\n\n        .main-sidebar {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 320px;\n          height: 100vh;\n          background: var(--bg-primary);\n          border-right: 1px solid var(--border-color);\n          box-shadow: 2px 0 10px var(--shadow);\n          z-index: 1000;\n          transform: translateX(-100%);\n          transition: transform 0.3s ease;\n          display: flex;\n          flex-direction: column;\n          overflow: hidden;\n        }\n\n        .main-sidebar.open {\n          transform: translateX(0);\n        }\n\n        @media (min-width: 769px) {\n          .main-sidebar {\n            position: relative;\n            transform: translateX(0);\n          }\n\n          .sidebar-overlay {\n            display: none !important;\n          }\n        }\n\n        .sidebar-header {\n          padding: 20px;\n          border-bottom: 1px solid var(--border-color);\n          background: var(--bg-secondary);\n        }\n\n        .sidebar-title {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .sidebar-title h2 {\n          margin: 0;\n          color: var(--text-primary);\n          font-size: 18px;\n          font-weight: 600;\n        }\n\n        .sidebar-close {\n          background: none;\n          border: none;\n          font-size: 20px;\n          color: var(--text-secondary);\n          cursor: pointer;\n          padding: 4px;\n          border-radius: 4px;\n          transition: all 0.2s ease;\n        }\n\n        .sidebar-close:hover {\n          background: var(--bg-tertiary);\n          color: var(--text-primary);\n        }\n\n        @media (min-width: 769px) {\n          .sidebar-close {\n            display: none;\n          }\n        }\n\n        .sidebar-content {\n          flex: 1;\n          overflow-y: auto;\n          padding: 20px;\n          display: flex;\n          flex-direction: column;\n          gap: 24px;\n        }\n\n        .sidebar-section {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n\n        .sidebar-section h3 {\n          margin: 0;\n          color: var(--text-primary);\n          font-size: 14px;\n          font-weight: 600;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n\n        .model-select {\n          width: 100%;\n          padding: 8px 12px;\n          border: 2px solid var(--border-color);\n          border-radius: 6px;\n          background: var(--bg-primary);\n          color: var(--text-primary);\n          font-size: 14px;\n        }\n\n        .model-select:focus {\n          outline: none;\n          border-color: var(--accent);\n        }\n\n        .mode-buttons {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n        }\n\n        .mode-button {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 12px 16px;\n          background: none;\n          border: none;\n          border-radius: 8px;\n          color: var(--text-secondary);\n          cursor: pointer;\n          transition: all 0.2s ease;\n          text-align: left;\n        }\n\n        .mode-button:hover {\n          background: var(--bg-tertiary);\n          color: var(--text-primary);\n        }\n\n        .mode-button.active {\n          background: var(--accent);\n          color: white;\n        }\n\n        .mode-icon {\n          font-size: 18px;\n          width: 24px;\n          text-align: center;\n        }\n\n        .section-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .new-session-btn {\n          width: 32px;\n          height: 32px;\n          border-radius: 50%;\n          background: var(--accent);\n          color: white;\n          border: none;\n          cursor: pointer;\n          font-size: 18px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.2s ease;\n        }\n\n        .new-session-btn:hover {\n          background: #0056b3;\n          transform: scale(1.1);\n        }\n\n        .archive-toggle {\n          font-size: 12px;\n          color: var(--text-secondary);\n        }\n\n        .archive-toggle input[type=\"checkbox\"] {\n          margin-right: 6px;\n        }\n\n        .sessions-list {\n          display: flex;\n          flex-direction: column;\n          gap: 6px;\n          max-height: 300px;\n          overflow-y: auto;\n        }\n\n        .session-item {\n          padding: 12px;\n          border-radius: 6px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          border: 1px solid transparent;\n        }\n\n        .session-item:hover {\n          background: var(--bg-tertiary);\n        }\n\n        .session-item.active {\n          background: var(--accent);\n          color: white;\n          border-color: var(--accent);\n        }\n\n        .session-title {\n          font-weight: 500;\n          font-size: 14px;\n          margin-bottom: 4px;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .session-date {\n          font-size: 12px;\n          opacity: 0.7;\n        }\n\n        .session-archived {\n          font-size: 11px;\n          background: rgba(255, 255, 255, 0.2);\n          padding: 2px 6px;\n          border-radius: 10px;\n          margin-top: 4px;\n          display: inline-block;\n        }\n\n        .settings-button {\n          width: 100%;\n          padding: 12px 16px;\n          background: var(--bg-tertiary);\n          border: 1px solid var(--border-color);\n          border-radius: 8px;\n          color: var(--text-primary);\n          cursor: pointer;\n          font-size: 14px;\n          transition: all 0.2s ease;\n        }\n\n        .settings-button:hover {\n          background: var(--bg-secondary);\n          border-color: var(--accent);\n        }\n      `}</style>\n    </>\n  );\n});\n\nMainSidebar.displayName = 'MainSidebar';\n\nexport default MainSidebar;","/**\n * API Caching and Request Deduplication Utility\n * Provides caching for API responses and prevents duplicate concurrent requests\n */\n\nclass APICache {\n  constructor() {\n    this.cache = new Map();\n    this.pendingRequests = new Map();\n  }\n\n  /**\n   * Generate cache key from URL and options\n   */\n  generateKey(url, options = {}) {\n    const key = `${options.method || 'GET'}:${url}`;\n    if (options.body) {\n      key += `:${JSON.stringify(options.body)}`;\n    }\n    return key;\n  }\n\n  /**\n   * Check if response is cached and not expired\n   */\n  get(url, options = {}, maxAge = 300000) { // 5 minutes default\n    const key = this.generateKey(url, options);\n    const cached = this.cache.get(key);\n\n    if (cached && (Date.now() - cached.timestamp) < maxAge) {\n      return cached.data;\n    }\n\n    // Remove expired cache entry\n    if (cached) {\n      this.cache.delete(key);\n    }\n\n    return null;\n  }\n\n  /**\n   * Cache response data\n   */\n  set(url, options = {}, data) {\n    const key = this.generateKey(url, options);\n    this.cache.set(key, {\n      data,\n      timestamp: Date.now(),\n    });\n\n    // Limit cache size to prevent memory leaks\n    if (this.cache.size > 100) {\n      const firstKey = this.cache.keys().next().value;\n      this.cache.delete(firstKey);\n    }\n  }\n\n  /**\n   * Clear cache for specific URL or all cache\n   */\n  clear(url = null, options = {}) {\n    if (url) {\n      const key = this.generateKey(url, options);\n      this.cache.delete(key);\n    } else {\n      this.cache.clear();\n    }\n  }\n\n  /**\n   * Handle concurrent requests with deduplication\n   */\n  async dedupedFetch(url, options = {}) {\n    const key = this.generateKey(url, options);\n\n    // Check if request is already pending\n    if (this.pendingRequests.has(key)) {\n      return this.pendingRequests.get(key);\n    }\n\n    // Create the fetch promise\n    const fetchPromise = this.fetchWithCache(url, options);\n\n    // Store the promise to prevent duplicate requests\n    this.pendingRequests.set(key, fetchPromise);\n\n    try {\n      const result = await fetchPromise;\n      return result;\n    } finally {\n      // Clean up pending request\n      this.pendingRequests.delete(key);\n    }\n  }\n\n  /**\n   * Fetch with caching and retry logic\n   */\n  async fetchWithCache(url, options = {}, cacheOptions = {}) {\n    const { useCache = true, maxAge = 300000, retries = 3, retryDelay = 1000 } = cacheOptions;\n    const method = options.method || 'GET';\n\n    // Only cache GET requests\n    if (useCache && method === 'GET') {\n      const cached = this.get(url, options, maxAge);\n      if (cached) {\n        return cached;\n      }\n    }\n\n    let lastError;\n\n    for (let attempt = 0; attempt <= retries; attempt++) {\n      try {\n        const response = await fetch(url, options);\n\n        if (!response.ok) {\n          // For server errors (5xx), retry\n          if (response.status >= 500 && attempt < retries) {\n            await new Promise(resolve => setTimeout(resolve, retryDelay * Math.pow(2, attempt)));\n            continue;\n          }\n          throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n        }\n\n        const data = await response.json();\n\n        // Cache successful GET responses\n        if (useCache && method === 'GET') {\n          this.set(url, options, data);\n        }\n\n        return data;\n      } catch (error) {\n        lastError = error;\n\n        // Don't retry for client errors (4xx) or if it's the last attempt\n        if (error.message.includes('HTTP 4') || attempt === retries) {\n          break;\n        }\n\n        // Wait before retrying\n        if (attempt < retries) {\n          await new Promise(resolve => setTimeout(resolve, retryDelay * Math.pow(2, attempt)));\n        }\n      }\n    }\n\n    // Don't cache errors\n    throw lastError;\n  }\n}\n\n// Global cache instance\nconst apiCache = new APICache();\n\n/**\n * Cached fetch function with deduplication\n */\nexport const cachedFetch = (url, options = {}, cacheOptions = {}) => {\n  return apiCache.dedupedFetch(url, options, cacheOptions);\n};\n\n/**\n * Clear cache for specific URL or all\n */\nexport const clearCache = (url = null, options = {}) => {\n  apiCache.clear(url, options);\n};\n\n/**\n * React hook for cached API calls\n */\nexport const useCachedAPI = () => {\n  return {\n    cachedFetch,\n    clearCache,\n  };\n};\n\nexport default apiCache;"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","parcelRequire","$parcel$global","globalThis","parcelRegister","register","module","exports","value","$24ed61511a45fe63$export$2e2bcd8739ae039","$ayMG0","$acw62","$2zAJi","$24ed61511a45fe63$var$MainSidebar","a","__esModule","default","memo","isOpen","onToggle","activeMode","onModeChange","currentChatSessionId","onChatSessionSelect","selectedModel","onModelChange","onSettingsClick","sessions","setSessions","useState","availableModels","setAvailableModels","showArchived","setShowArchived","useEffect","loadSessions","loadModels","data","cachedFetch","error","console","items","createNewSession","response","fetch","method","ok","json","id","jsxs","Fragment","children","jsx","className","onClick","onChange","target","map","model","modes","label","icon","mode","title","type","checked","filter","session","archived","Date","created_at","toLocaleDateString","displayName","$1dfb57671fa2b5cd$export$7778c46af7f9c283","$1dfb57671fa2b5cd$var$apiCache","cache","Map","pendingRequests","generateKey","url","options","key","body","JSON","stringify","maxAge","cached","now","timestamp","delete","size","firstKey","keys","next","clear","dedupedFetch","has","fetchPromise","fetchWithCache","cacheOptions","lastError","useCache","retries","retryDelay","attempt","status","Promise","resolve","setTimeout","Math","pow","Error","statusText","message","includes"],"version":3,"file":"MainSidebar.0b0e40fe.js.map"}